{"ast":null,"code":"var _jsxFileName = \"D:\\\\deploy\\\\fudorderingapp\\\\src\\\\store\\\\order-actions.js\",\n    _s = $RefreshSig$();\n\nimport uiActions from './ui-slice';\nimport cartActions from './cart-slice';\nimport orderActions from './order-slice';\nimport { useSelector } from 'react-redux';\nimport classes from '../components/Meals/AvailableMeals.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ShowOrders = () => {\n  _s();\n\n  const loading = useSelector(state => state.order.isLoading);\n  const httperror = useSelector(state => state.order.httpError);\n  return async dispatch => {\n    const fetchOrders = async () => {\n      const response = await fetch('https://food-ordering-app-700fa-default-rtdb.firebaseio.com/orders.json');\n\n      if (!response.ok) {\n        throw new Error('Something went wrong!');\n      }\n\n      const responseData = await response.json();\n      const loadedOrder = [];\n\n      for (const key in responseData) {\n        loadedOrder.push({\n          id: key,\n          name: responseData[key].user.name,\n          place: responseData[key].user.place,\n          pin: responseData[key].user.pin\n        });\n      }\n\n      console.log(loadedOrder);\n      dispatch(orderActions.showOrders(loadedOrder)); //setMeals(loadedMeals);\n\n      dispatch(orderActions.setIsLoading()); //setIsLoading(false);\n    };\n\n    fetchOrders().catch(error => {\n      dispatch(orderActions.setIsLoading()); // setIsLoading(false);\n\n      dispatch(orderActions.setHttpError(error.message)); //setHttpError(error.message);\n    });\n\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        className: classes.MealsLoading,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this);\n    }\n\n    if (httperror) {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        className: classes.MealsError,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: httperror\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this);\n    }\n  };\n};\n\n_s(ShowOrders, \"zedbL4eq6yv5aTSHOuIss6rge6g=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = ShowOrders;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowOrders\");","map":{"version":3,"sources":["D:/deploy/fudorderingapp/src/store/order-actions.js"],"names":["uiActions","cartActions","orderActions","useSelector","classes","ShowOrders","loading","state","order","isLoading","httperror","httpError","dispatch","fetchOrders","response","fetch","ok","Error","responseData","json","loadedOrder","key","push","id","name","user","place","pin","console","log","showOrders","setIsLoading","catch","error","setHttpError","message","MealsLoading","MealsError"],"mappings":";;;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,OAAOC,OAAP,MAAoB,+CAApB;;AAEA,OAAO,MAAMC,UAAU,GAAC,MAAI;AAAA;;AACxB,QAAMC,OAAO,GAAEH,WAAW,CAAEI,KAAD,IAASA,KAAK,CAACC,KAAN,CAAYC,SAAtB,CAA1B;AACA,QAAMC,SAAS,GAACP,WAAW,CAAEI,KAAD,IAASA,KAAK,CAACC,KAAN,CAAYG,SAAtB,CAA3B;AAEA,SAAO,MAAMC,QAAN,IAAiB;AACpB,UAAMC,WAAW,GAAC,YAAS;AACvB,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,yEAAD,CAA5B;;AAEA,UAAI,CAACD,QAAQ,CAACE,EAAd,EAAkB;AACf,cAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACD;;AAED,YAAMC,YAAY,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAA3B;AAEA,YAAMC,WAAW,GAAG,EAApB;;AAEA,WAAK,MAAMC,GAAX,IAAkBH,YAAlB,EAAgC;AAC9BE,QAAAA,WAAW,CAACE,IAAZ,CAAiB;AACfC,UAAAA,EAAE,EAAEF,GADW;AAEfG,UAAAA,IAAI,EAAEN,YAAY,CAACG,GAAD,CAAZ,CAAkBI,IAAlB,CAAuBD,IAFd;AAGfE,UAAAA,KAAK,EAAER,YAAY,CAACG,GAAD,CAAZ,CAAkBI,IAAlB,CAAuBC,KAHf;AAIfC,UAAAA,GAAG,EAAET,YAAY,CAACG,GAAD,CAAZ,CAAkBI,IAAlB,CAAuBE;AAJb,SAAjB;AAMD;;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYT,WAAZ;AACMR,MAAAA,QAAQ,CAACV,YAAY,CAAC4B,UAAb,CAAwBV,WAAxB,CAAD,CAAR,CApBsB,CAoByB;;AAC/CR,MAAAA,QAAQ,CAACV,YAAY,CAAC6B,YAAb,EAAD,CAAR,CArBsB,CAqBgB;AACvC,KAtBJ;;AAuBGlB,IAAAA,WAAW,GAAGmB,KAAd,CAAqBC,KAAD,IAAW;AAC9BrB,MAAAA,QAAQ,CAACV,YAAY,CAAC6B,YAAb,EAAD,CAAR,CAD8B,CACQ;;AACtCnB,MAAAA,QAAQ,CAACV,YAAY,CAACgC,YAAb,CAA0BD,KAAK,CAACE,OAAhC,CAAD,CAAR,CAF8B,CAEqB;AACpD,KAHA;;AAMH,QAAI7B,OAAJ,EAAa;AACX,0BACE;AAAS,QAAA,SAAS,EAAEF,OAAO,CAACgC,YAA5B;AAAA,+BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAKD;;AAED,QAAI1B,SAAJ,EAAe;AACb,0BACE;AAAS,QAAA,SAAS,EAAEN,OAAO,CAACiC,UAA5B;AAAA,+BACE;AAAA,oBAAI3B;AAAJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAKD;AAEA,GA9CL;AA+CC,CAnDE;;GAAML,U;UACMF,W,EACCA,W;;;KAFPE,U","sourcesContent":["import uiActions from './ui-slice';\r\nimport cartActions from './cart-slice';\r\nimport orderActions from './order-slice';\r\nimport {useSelector} from 'react-redux';\r\nimport classes from '../components/Meals/AvailableMeals.module.css';\r\n\r\nexport const ShowOrders=()=>{\r\n    const loading= useSelector((state)=>state.order.isLoading);\r\n    const httperror=useSelector((state)=>state.order.httpError);\r\n\r\n    return async(dispatch)=>{\r\n        const fetchOrders=async()=>{\r\n            const response = await fetch('https://food-ordering-app-700fa-default-rtdb.firebaseio.com/orders.json');\r\n\r\n            if (!response.ok) {\r\n               throw new Error('Something went wrong!');\r\n             }\r\n       \r\n             const responseData = await response.json();\r\n       \r\n             const loadedOrder = [];\r\n       \r\n             for (const key in responseData) {\r\n               loadedOrder.push({\r\n                 id: key,\r\n                 name: responseData[key].user.name,\r\n                 place: responseData[key].user.place,\r\n                 pin: responseData[key].user.pin,\r\n               });\r\n             }\r\n       console.log(loadedOrder);\r\n             dispatch(orderActions.showOrders(loadedOrder));//setMeals(loadedMeals);\r\n             dispatch(orderActions.setIsLoading());//setIsLoading(false);\r\n           };\r\n           fetchOrders().catch((error) => {\r\n            dispatch(orderActions.setIsLoading());// setIsLoading(false);\r\n            dispatch(orderActions.setHttpError(error.message));//setHttpError(error.message);\r\n          });\r\n        \r\n      \r\n        if (loading) {\r\n          return (\r\n            <section className={classes.MealsLoading}>\r\n              <p>Loading...</p>\r\n            </section>\r\n          );\r\n        }\r\n      \r\n        if (httperror) {\r\n          return (\r\n            <section className={classes.MealsError}>\r\n              <p>{httperror}</p>\r\n            </section>\r\n          );\r\n        }\r\n       \r\n        };\r\n    };\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}